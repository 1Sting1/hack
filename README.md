# Документация API

## Введение
Это API предоставляет функционал для регистрации пользователей, аутентификации, управления сессиями и получения данных. Оно разработано с использованием FastAPI - современного, быстрого (высокопроизводительного) веб-фреймворка для создания API на Python 3.7+.

## Базовый URL
Базовый URL для доступа к API по умолчанию - `http://localhost:8000`, если запуск происходит локально.

## Аутентификация
Аутентификация осуществляется с помощью сессий. После успешного входа в систему генерируется и возвращается клиенту идентификатор сессии. Этот идентификатор сессии должен быть включен в последующих запросах к защищенным маршрутам.

## Обработка ошибок
Ошибки возвращаются с соответствующими кодами статуса HTTP и JSON-объектами, описывающими ошибку.

## Конечные точки

### Регистрация пользователя
- **URL:** `/register`
- **Метод:** POST
- **Тело запроса:**
  - `name` (строка): имя пользователя
  - `password` (строка): пароль пользователя
- **Ответы:**
  - 200 OK: Пользователь успешно зарегистрирован
  - 400 Bad Request: Имя пользователя уже существует

### Вход пользователя в систему
- **URL:** `/login`
- **Метод:** POST
- **Тело запроса:**
  - `name` (строка): имя пользователя
  - `password` (строка): пароль пользователя
- **Ответы:**
  - 200 OK: Вход успешен (возвращает идентификатор сессии)
  - 401 Unauthorized: Неверное имя пользователя или пароль

### Выход пользователя из системы
- **URL:** `/logout/`
- **Метод:** POST
- **Тело запроса:**
  - `session_id` (строка): идентификатор сессии, полученный при входе в систему
- **Ответы:**
  - 200 OK: Выход из системы успешен

### Панель управления (Защищенный маршрут)
- **URL:** `/dashboard/`
- **Метод:** GET
- **Параметры запроса:**
  - `session_id` (строка): идентификатор сессии, полученный при входе в систему
- **Ответы:**
  - 200 OK: HTML-страница панели управления
  - 401 Unauthorized: Пользователь не вошел в систему

### Получение данных пользователя по ID
- **URL:** `/get_data/{user_id}`
- **Метод:** GET
- **Параметры пути:**
  - `user_id` (целое число): ID пользователя
- **Ответы:**
  - 200 OK: Данные пользователя
  - 404 Not Found: Пользователь не найден

### Получение количества данных пользователей
- **URL:** `/get_data/count`
- **Метод:** GET
- **Ответы:**
  - 200 OK: Количество пользователей в базе данных

## Пример использования
```python
import requests

# Регистрация пользователя
register_response = requests.post("http://localhost:8000/register", json={"name": "username", "password": "password"})

# Вход пользователя в систему
login_response = requests.post("http://localhost:8000/login", json={"name": "username", "password": "password"})
session_id = login_response.json()["session_id"]

# Доступ к защищенному маршруту
dashboard_response = requests.get("http://localhost:8000/dashboard/", params={"session_id": session_id})

# Выход пользователя из системы
logout_response = requests.post("http://localhost:8000/logout/", json={"session_id": session_id})
